digraph G {
  rankdir = "RL";
  node [shape = rect, fontname = "sans-serif"];
  "data.terraform_remote_state.network" [label="data.terraform_remote_state.network"];
  subgraph "cluster_module.acm" {
    label = "module.acm"
    fontname = "sans-serif"
    "module.acm.data.aws_route53_zone.public-zone" [label="data.aws_route53_zone.public-zone"];
    "module.acm.aws_acm_certificate.cert" [label="aws_acm_certificate.cert"];
    "module.acm.aws_acm_certificate_validation.cert_validation" [label="aws_acm_certificate_validation.cert_validation"];
    "module.acm.aws_route53_record.cert_validation_record" [label="aws_route53_record.cert_validation_record"];
  }
  subgraph "cluster_module.iam_role" {
    label = "module.iam_role"
    fontname = "sans-serif"
    "module.iam_role.data.aws_caller_identity.current" [label="data.aws_caller_identity.current"];
    "module.iam_role.aws_flow_log.example_vpc_flow_log" [label="aws_flow_log.example_vpc_flow_log"];
    "module.iam_role.aws_iam_instance_profile.s3_ssm_cw_profile" [label="aws_iam_instance_profile.s3_ssm_cw_profile"];
    "module.iam_role.aws_iam_policy.cloudwatch_agent_policy" [label="aws_iam_policy.cloudwatch_agent_policy"];
    "module.iam_role.aws_iam_role.s3_ssm_CW_role" [label="aws_iam_role.s3_ssm_CW_role"];
    "module.iam_role.aws_iam_role_policy_attachment.cloudwatch_agent_attachment" [label="aws_iam_role_policy_attachment.cloudwatch_agent_attachment"];
    "module.iam_role.aws_iam_role_policy_attachment.s3_readonly_attach" [label="aws_iam_role_policy_attachment.s3_readonly_attach"];
    "module.iam_role.aws_iam_role_policy_attachment.secret_manager-ReadWrite" [label="aws_iam_role_policy_attachment.secret_manager-ReadWrite"];
    "module.iam_role.aws_iam_role_policy_attachment.ssm_core_attach" [label="aws_iam_role_policy_attachment.ssm_core_attach"];
    "module.iam_role.aws_iam_role_policy_attachment.ssmparameter_read_only" [label="aws_iam_role_policy_attachment.ssmparameter_read_only"];
    "module.iam_role.aws_s3_bucket.vpc_flow_logs_bucket" [label="aws_s3_bucket.vpc_flow_logs_bucket"];
    "module.iam_role.aws_s3_bucket_acl.acl" [label="aws_s3_bucket_acl.acl"];
    "module.iam_role.aws_s3_bucket_ownership_controls.vpc_flow_logs" [label="aws_s3_bucket_ownership_controls.vpc_flow_logs"];
    "module.iam_role.aws_s3_bucket_policy.vpc_flow_logs" [label="aws_s3_bucket_policy.vpc_flow_logs"];
    "module.iam_role.aws_s3_bucket_public_access_block.vpc_flow_logs" [label="aws_s3_bucket_public_access_block.vpc_flow_logs"];
    "module.iam_role.aws_s3_bucket_server_side_encryption_configuration.SSE_config" [label="aws_s3_bucket_server_side_encryption_configuration.SSE_config"];
  }
  subgraph "cluster_module.key" {
    label = "module.key"
    fontname = "sans-serif"
    "module.key.aws_key_pair.client_key" [label="aws_key_pair.client_key"];
    "module.key.aws_key_pair.nat-bastion" [label="aws_key_pair.nat-bastion"];
    "module.key.aws_key_pair.server_key" [label="aws_key_pair.server_key"];
  }
  "module.acm.data.aws_route53_zone.public-zone" -> "data.terraform_remote_state.network";
  "module.acm.aws_acm_certificate.cert" -> "data.terraform_remote_state.network";
  "module.acm.aws_acm_certificate_validation.cert_validation" -> "module.acm.aws_route53_record.cert_validation_record";
  "module.acm.aws_route53_record.cert_validation_record" -> "module.acm.data.aws_route53_zone.public-zone";
  "module.acm.aws_route53_record.cert_validation_record" -> "module.acm.aws_acm_certificate.cert";
  "module.iam_role.data.aws_caller_identity.current" -> "data.terraform_remote_state.network";
  "module.iam_role.aws_flow_log.example_vpc_flow_log" -> "module.iam_role.aws_s3_bucket.vpc_flow_logs_bucket";
  "module.iam_role.aws_iam_instance_profile.s3_ssm_cw_profile" -> "module.iam_role.aws_iam_role.s3_ssm_CW_role";
  "module.iam_role.aws_iam_policy.cloudwatch_agent_policy" -> "data.terraform_remote_state.network";
  "module.iam_role.aws_iam_role.s3_ssm_CW_role" -> "data.terraform_remote_state.network";
  "module.iam_role.aws_iam_role_policy_attachment.cloudwatch_agent_attachment" -> "module.iam_role.aws_iam_policy.cloudwatch_agent_policy";
  "module.iam_role.aws_iam_role_policy_attachment.cloudwatch_agent_attachment" -> "module.iam_role.aws_iam_role.s3_ssm_CW_role";
  "module.iam_role.aws_iam_role_policy_attachment.s3_readonly_attach" -> "module.iam_role.aws_iam_role.s3_ssm_CW_role";
  "module.iam_role.aws_iam_role_policy_attachment.secret_manager-ReadWrite" -> "module.iam_role.aws_iam_role.s3_ssm_CW_role";
  "module.iam_role.aws_iam_role_policy_attachment.ssm_core_attach" -> "module.iam_role.aws_iam_role.s3_ssm_CW_role";
  "module.iam_role.aws_iam_role_policy_attachment.ssmparameter_read_only" -> "module.iam_role.aws_iam_role.s3_ssm_CW_role";
  "module.iam_role.aws_s3_bucket.vpc_flow_logs_bucket" -> "data.terraform_remote_state.network";
  "module.iam_role.aws_s3_bucket_acl.acl" -> "module.iam_role.aws_s3_bucket_ownership_controls.vpc_flow_logs";
  "module.iam_role.aws_s3_bucket_ownership_controls.vpc_flow_logs" -> "module.iam_role.aws_s3_bucket.vpc_flow_logs_bucket";
  "module.iam_role.aws_s3_bucket_policy.vpc_flow_logs" -> "module.iam_role.data.aws_caller_identity.current";
  "module.iam_role.aws_s3_bucket_policy.vpc_flow_logs" -> "module.iam_role.aws_s3_bucket.vpc_flow_logs_bucket";
  "module.iam_role.aws_s3_bucket_public_access_block.vpc_flow_logs" -> "module.iam_role.aws_s3_bucket.vpc_flow_logs_bucket";
  "module.iam_role.aws_s3_bucket_server_side_encryption_configuration.SSE_config" -> "module.iam_role.aws_s3_bucket.vpc_flow_logs_bucket";
  "module.key.aws_key_pair.client_key" -> "data.terraform_remote_state.network";
  "module.key.aws_key_pair.nat-bastion" -> "data.terraform_remote_state.network";
  "module.key.aws_key_pair.server_key" -> "data.terraform_remote_state.network";
}
